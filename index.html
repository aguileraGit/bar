<!doctype html>
<html lang="en" class="h-100">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=yes">
  <meta name="description" content="">

  <title>My drink recipes</title>

  <link rel="canonical" href="https://getbootstrap.com/docs/4.5/examples/sticky-footer/">

  <!-- JQuery -->
  <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>

  <!-- Bootstrap -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>

  <!-- Custom styles for this template -->
  <link href="sticky-footer.css" rel="stylesheet">

  <!-- Google Fonts - Add this font: https://fonts.google.com/specimen/DM+Mono?query=dm+mo-->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Salsa|Comfortaa:wght@300">

  <!-- Chart - Word Cloud -->
  <script src="https://cdn.anychart.com/releases/8.9.0/js/anychart-base.min.js" type="text/javascript"></script>
  <script src="https://cdn.anychart.com/releases/8.9.0/js/anychart-tag-cloud.min.js"></script>

  <style type="text/css">
    .fancy-fonts {
      font-family: Salsa;
    }

    .not-as-fancy {
      font-family: Comfortaa;
    }

    html {
      height: 100%;
    }

    body {
        height: 100%;
        margin: 0;
        background-repeat: no-repeat;
        background-attachment: fixed;
        margin:0;
        padding:0;
    }

    hr {
      margin-top: -1rem;
      margin-bottom: 1rem;
      border: 0;
      border-top: 2px solid rgba(0, 0, 0, 0.3);
      width: 80%;
    }

    .no-padding {
       padding: 0;
    }

    #Container_Carousel{
        margin:0;
        padding:0;
        width:100%;
    }

    body {
      background-image: linear-gradient(151deg, rgba(34, 193, 195, 0.8547794117647058) 0%, rgba(253, 187, 45, 0.8911939775910365) 100%);
      background-image: -moz-linear-gradient(151deg, rgba(34, 193, 195, 0.8547794117647058) 0%, rgba(253, 187, 45, 0.8911939775910365) 100%);
      background-image: -ms-linear-gradient(151deg, rgba(34, 193, 195, 0.8547794117647058) 0%, rgba(253, 187, 45, 0.8911939775910365) 100%);
      background-image: -webkit-linear-gradient(151deg, rgba(34, 193, 195, 0.8547794117647058) 0%, rgba(253, 187, 45, 0.8911939775910365) 100%);
      background-image: -webkit-linear-gradient(151deg, rgba(34, 193, 195, 0.8547794117647058) 0%, rgba(253, 187, 45, 0.8911939775910365) 100%);
      background-image: -o-linear-gradient(151deg, rgba(34, 193, 195, 0.8547794117647058) 0%, rgba(253, 187, 45, 0.8911939775910365) 100%);
      background-image:  linear-gradient(151deg, rgba(34, 193, 195, 0.8547794117647058) 0%, rgba(253, 187, 45, 0.8911939775910365) 100%);
    }

    body:after {
      background-image: linear-gradient(151deg, rgba(34, 193, 195, 0.8547794117647058) 0%, rgba(253, 187, 45, 0.8911939775910365) 100%);
      background-image: -moz-linear-gradient(151deg, rgba(34, 193, 195, 0.8547794117647058) 0%, rgba(253, 187, 45, 0.8911939775910365) 100%);
      background-image: -ms-linear-gradient(151deg, rgba(34, 193, 195, 0.8547794117647058) 0%, rgba(253, 187, 45, 0.8911939775910365) 100%);
      background-image: -webkit-linear-gradient(151deg, rgba(34, 193, 195, 0.8547794117647058) 0%, rgba(253, 187, 45, 0.8911939775910365) 100%);
      background-image: -webkit-linear-gradient(151deg, rgba(34, 193, 195, 0.8547794117647058) 0%, rgba(253, 187, 45, 0.8911939775910365) 100%);
      background-image: -o-linear-gradient(151deg, rgba(34, 193, 195, 0.8547794117647058) 0%, rgba(253, 187, 45, 0.8911939775910365) 100%);
      background-image:  linear-gradient(151deg, rgba(34, 193, 195, 0.8547794117647058) 0%, rgba(253, 187, 45, 0.8911939775910365) 100%);
    }

    .modal-backdrop {
      opacity: 0.7 !important;
      background: rgb(120, 120, 120) !important;
    }

    .chartContainer {
      height: 300px;
      margin:0;
      padding:0;
      width:100%;
    }

    .ingredientElement {
      margin: 1em 0 0.5em;
      font-size: 0.8125em;
      color: #222222;
    }

    img {
      max-width: 100%;
      height: auto;
      vertical-align: bottom;
    }

    .recipe-card {
      background: #fff;
      /* margin: 4em auto; */
      margin-top: 1em;
      margin-bottom: 1em;
      margin-left: 1em;
      margin-right: 1em;
      /* width: 60%; */
      max-width: 320px;
      border-top-left-radius: 5px;
      border-top-right-radius: 5px;
      border-bottom-left-radius: 5px;
      border-bottom-right-radius: 5px;
    }

    .recipe-card aside {
      position: relative;
    }

    .recipe-card aside img {
      border-top-left-radius: 5px;
      border-top-right-radius: 5px;
    }

    .recipe-card aside .button {
      background: #57abf2;
      display: inline-block;
      position: absolute;
      top: 80%;
      right: 3%;
      width: 4.0625em;
      height: 4.0625em;
      border-radius: 4.0625em;
      line-height: 4.0625em;
      text-align: center;
    }
    .recipe-card aside .button .icon {
      vertical-align: middle;
    }
    .recipe-card article {
      padding: 1.25em 1.5em;
    }

    .recipe-card article h2, .recipe-card article h3 {
      margin: 0;
      font-weight: 300;
    }
    .recipe-card article h2 {
      font-size: 1.75em;
      color: #222222;
    }
    .recipe-card article h3 {
      font-size: 0.9375em;
      color: #838689;
    }
    .recipe-card article p {
      margin: 1.25em 0;
      font-size: 0.8125em;
      font-weight: 400;
      color: #222222;
    }
    .recipe-card article p span {
      font-weight: 700;
      color: #000000;
    }
    .recipe-card article .ingredients {
      margin: 2em 0 0.5em;
    }
    .recipe-card .icon {
      display: inline;
      display: inline-block;
      background-image: url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/203277/recipe-card-icons.svg);
      background-repeat: no-repeat;
    }
    .recipe-card .icon-calories, .recipe-card .icon-calories\:regular {
      background-position: 0 0;
      width: 16px;
      height: 19px;
    }
    .recipe-card .icon-clock, .recipe-card .icon-clock\:regular {
      background-position: 0 -19px;
      width: 20px;
      height: 20px;
    }
    .recipe-card .icon-level, .recipe-card .icon-level\:regular {
      background-position: 0 -39px;
      width: 16px;
      height: 19px;
    }
    .recipe-card .icon-play, .recipe-card .icon-play\:regular {
      background-position: 0 -58px;
      width: 21px;
      height: 26px;
    }
    .recipe-card .icon-users, .recipe-card .icon-users\:regular {
      background-position: 0 -84px;
      width: 18px;
      height: 18px;
    }

  </style>

</head>

<body>

  <!-- Begin page content -->
  <main role="main">

    <!-- Main content -->
    <div id="Container_Carousel">

        <h1 class="display-3 fancy-fonts text-center">Drinks. Drinks. Drinks. <a class="small text-danger text-decoration-none" href="#exampleModalCenter" data-toggle="modal" data-target="#exampleModalCenter">About</a>.</h1>

        <!-- Carousel for different ways to filter recipes -->
        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 no-padding">
          <div id="carousel-example-generic" class="carousel slide" data-interval="false">
            <ol class="carousel-indicators">
              <li data-target="#carousel-example-generic" data-slide-to="0" class="active"></li>
              <li data-target="#carousel-example-generic" data-slide-to="1"></li>
              <li data-target="#carousel-example-generic" data-slide-to="2"></li>
            </ol>

            <div class="carousel-inner">
              <div class="carousel-item active">
                <div class="d-block" style="height: 500px;">
                  <div class="carousel-caption">
                    <h5>AI selected words</h5>
                    <!-- Word Cloud -->
                    <div class="chartContainer pb-2" id="wordCloudWords"></div>

                    <!-- Display selected words -->
                    <div class="container">

                      <div class="form-group row my-3">
                        <div class="col-sm-1 align-middle">
                          <h3><span class="badge badge-secondary" id="cardCount"></span></h3>
                        </div>
                        <div class="col-sm-11">
                            <input class="form-control align-middle" id="filterTerms" disabled>
                        </div>
                      </div>

                      <div class="row">
                        <div class="col-sm-12">
                            <button type="button" class="btn btn-dark mr-3" id="clearButton">Clear Search Terms</button>
                            <button type="button" class="btn btn-dark" id="backspaceButton">Backspace</button>
                        </div>
                      </div>

                    </div>

                  </div>
                </div>
              </div>

              <div class="carousel-item">
                <div class="d-block align-items-center justify-content-center" style="height: 200px;">
                  <div class="carousel-caption">
                    <h5>Search by Name</h5>

                      <div class="form-group row my-3 ">
                        <div class="col-sm-12">
                            <input class="form-control" id="termsByRecipeName">
                        </div>
                      </div>

                      <div class="row">
                        <div class="col-sm-12">
                            <button type="button" class="btn btn-dark mr-3" id="filterRecipeByName">Search by Recipe Name</button>
                            <button type="button" class="btn btn-dark mr-3" id="clearRecipeByName">Clear </button>
                        </div>
                      </div>

                  </div>
                </div>
              </div>

              <div class="carousel-item">
                <div class="d-block align-items-center justify-content-center" style="height: 200px;">
                  <div class="carousel-caption">
                    <h5>Search by Ingredients <small class="text-white-50 text-uppercase">Seperated by spaces</small></h5>

                      <div class="form-group row my-3 ">
                        <div class="col-sm-12">
                            <input class="form-control" id="termsByIngredients">
                        </div>
                      </div>

                      <div class="row">
                        <div class="col-sm-12">
                            <button type="button" class="btn btn-dark mr-3" id="filterRecipeByIngredients">Filter by Ingredients</button>
                            <button type="button" class="btn btn-dark mr-3" id="clearRecipeByIngredients">Clear </button>
                        </div>
                      </div>

                  </div>
                </div>
              </div>

            </div> <!-- End Carousel-inner -->

            <a class="carousel-control-prev" href="#carousel-example-generic" role="button" data-slide="prev">
              <span class="carousel-control-prev-icon" aria-hidden="true"></span>
              <span class="sr-only">Previous</span>
            </a>
            <a class="carousel-control-next" href="#carousel-example-generic" role="button" data-slide="next">
              <span class="carousel-control-next-icon" aria-hidden="true"></span>
              <span class="sr-only">Next</span>
            </a>
          </div>
        </div>
        <!-- End Carousel -->


        <!-- Recipes -->
        <div id="recipes" class="d-flex flex-row flex-wrap my-flex-container"></div>
        <!-- End recipe div -->

      </div>
    </div>

  </main>

  <!-- Modal -->
  <div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLongTitle">Modal title</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <div>
            <p>This amazing website is a combination of Python, Gensim, HTML, Bootstrap, Javascript, GitHub, Netlify, and others. It provides a simple way to filter down my collection of recipes by ingredients. All code is maintain in a <a href="https://github.com/aguileraGit/bar">Github Repo</a>.</p>
          </div>
          <div><p> The first script uses roughly 100 wikipedia articles as training data to <i>learn</i> about alcohols, types, herbs, spices, beer, and other assorted articles. Certain words (the, or, bar, history, tree, etc) were removed. This helps with training. The data is trained using the <a href="http://man.hubwiz.com/docset/gensim.docset/Contents/Resources/Documents/radimrehurek.com/gensim/index-2.html">Gensim Library</a>. The model is saved and used in the next step. This model can be used to describe a particular word or used to see how one word is to another.</p>

          <p>The second step starts by pulling data from <a href="https://www.paprikaapp.com">Paprika App</a> which is used to store all recipes. It selects only recipes labelled by the Drinks UUID. All recipes are exported to a single JSON file.</p>

          <p>The script continues to select all ingredients in all recipes. Lots of effort is put in to remove all measurements, numbers, special characters, words, phrases, etc. Most is done with regular expressions. Each ingredient is now passed through the model and categorize into <b>alcohol, liqueur, fruit, savory, herb, sweeteners</b>. Interesting thing about this model are herbs, spices, and sugar. Most types of alcohols contain herbs, spices, and sugar. The model had a hard time categorizing certain ingredients. For that reason an extra step of adding/multiplying weights was implemented. These weights helped to reduce the how often an ingredient was catergorized as an herb, spice, or sugar. Herbs and Spices were combined/averaged.</p>

          <p>With each ingredient now catergorized, a JSON file of ingredients and catergories is exported</p>

          <p>These recipes and ingredients are loaded into a Javascript file. The HTML file is built around this data struture. Each card is a recipe. The Word Cloud is the catergorized ingredients file. Selecting a word automatically filters all recipes by that word. This is again done with the help of regular expressions.</p>

          <p>The HTML, Javascript, and JSON files are pushed to a GitHub repo. <a href="https://www.netlify.com">Netlify</a> is configured to pull these files and publish them as a normal webpage. Just because I can, I've setup <b>drinks</b>.aguilera.me to redirect to the Netlify specific address.</p>

          <p> In full transperncy, I use Netlify to inject Google analytics. This isn't visible in the HTML/Javascript files on GitHub. Netlify injects this into the webpage when an update is pushed via GitHub. Don't worry, I'm not tracking your movements. It's simply nice to see people viewing something I made.</p>
        </div>
      </div>
    </div>
  </div>

  <footer class="footer mt-auto py-3 align-middle">
    <div class="container">
      <span class="text-muted align-middle">Made with love. And booze. <a class="text-dark" href="#exampleModalCenter" data-toggle="modal" data-target="#exampleModalCenter">About.</a></span>
    </div>
  </footer>

  <!-- Load custom JS - Top: Flask, Bottom: Local File-->
  <script src="myScript.js?104"></script>

</body>

</html>
